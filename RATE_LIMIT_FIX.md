# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å Rate Limiting

## üö® –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –Ω–∞–π–¥–µ–Ω—ã:

### 1. **–î–≤–æ–π–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** –≤ `Editor.jsx`
- **–ü—Ä–æ–±–ª–µ–º–∞**: –í `handleAuth` –¥–µ–ª–∞–ª–æ—Å—å **2 –∑–∞–ø—Ä–æ—Å–∞** –≤–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –û–¥–∏–Ω –∫–ª–∏–∫ –ø–æ –∫–Ω–æ–ø–∫–µ = 2 –ø–æ–ø—ã—Ç–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏–µ**: –ë—ã—Å—Ç—Ä–æ–µ –∏—Å—á–µ—Ä–ø–∞–Ω–∏–µ –ª–∏–º–∏—Ç–∞ –≤ 3 –ø–æ–ø—ã—Ç–∫–∏

### 2. **–¶–∏–∫–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**
- **–ü—Ä–æ–±–ª–µ–º–∞**: `useEffect` –¥–ª—è auto-auth –º–æ–≥ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- **–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏–µ**: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ "–ø–æ—Ç—Ä–∞—á–µ–Ω–Ω—ã–µ" –ø–æ–ø—ã—Ç–∫–∏

### 3. **–°–ª–∏—à–∫–æ–º –∂–µ—Å—Ç–∫–∏–π rate limiting**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –í—Å–µ–≥–æ 3 –ø–æ–ø—ã—Ç–∫–∏ = –±–∞–Ω –Ω–∞ 24 —á–∞—Å–∞
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –õ–µ–≥–∫–æ —Å–ª—É—á–∞–π–Ω–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Å–µ–±—è
- **–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏–µ**: –ù–µ—É–¥–æ–±—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

### 1. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**
```javascript
// ‚ùå –ë–´–õ–û: –î–≤–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞
const telegramResponse = await axios.post(...)
const passwordResponse = await axios.post(...)

// ‚úÖ –°–¢–ê–õ–û: –û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å —Å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
const response = await axios.post('/auth', {
  password,
  ...(tg?.initData && { initData: tg.initData })
})
```

### 2. **–ó–∞—â–∏—Ç–∞ –æ—Ç —Ü–∏–∫–ª–æ–≤**
```javascript
// ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û: –§–ª–∞–≥ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
let authAttempted = false

const tryTelegramAuth = async () => {
  if (authAttempted || !tg || !tg.initData || isAuthenticated) {
    return
  }
  authAttempted = true
  // ... –∫–æ–¥ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
}
```

### 3. **–°–º—è–≥—á–µ–Ω–Ω—ã–π rate limiting**
```javascript
// ‚úÖ –ò–ó–ú–ï–ù–ï–ù–û: –ë–æ–ª–µ–µ –º—è–≥–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
const MAX_ATTEMPTS = 5 // –ë—ã–ª–æ: 3
const BAN_DURATION = 2 * 60 * 60 * 1000 // –ë—ã–ª–æ: 24 —á–∞—Å–∞ ‚Üí –°—Ç–∞–ª–æ: 2 —á–∞—Å–∞
const PROGRESSIVE_DELAYS = [1000, 2000, 5000, 10000, 15000] // –ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏
```

### 4. **–£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
```javascript
// ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û: –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
console.log(`Failed auth attempt ${record.attempts}/${MAX_ATTEMPTS} for IP ${ip}`)
console.log(`Adding ${delay}ms delay for failed attempt`)
console.log(`IP ${ip} banned for ${minutesRemaining} minutes`)
```

## üõ†Ô∏è –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

### **–î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç**
–î–æ–±–∞–≤–ª–µ–Ω —Å–∫—Ä–∏–ø—Ç `debug-rate-limit.js` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è rate limiting:

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
npm run debug:rate-limit show

# –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
npm run debug:rate-limit stats

# –°–±—Ä–æ—Å–∏—Ç—å –ø–æ–ø—ã—Ç–∫–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ IP
npm run debug:rate-limit reset 192.168.1.1

# –°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –ø–æ–ø—ã—Ç–∫–∏ (—ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã–π —Å–±—Ä–æ—Å)
npm run debug:rate-limit reset-all
```

### **–£–ª—É—á—à–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –±–∞–Ω–∞ (–º–∏–Ω—É—Ç—ã/—á–∞—Å—ã)
- –ë–æ–ª–µ–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –ª–æ–≥–∞—Ö
- –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ "–î–æ" –∏ "–ü–æ—Å–ª–µ":

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –î–æ | –ü–æ—Å–ª–µ |
|----------|----|----|
| –ú–∞–∫—Å. –ø–æ–ø—ã—Ç–æ–∫ | 3 | 5 |
| –í—Ä–µ–º—è –±–∞–Ω–∞ | 24 —á–∞—Å–∞ | 2 —á–∞—Å–∞ |
| –ó–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é | 2 | 1 |
| –ó–∞—â–∏—Ç–∞ –æ—Ç —Ü–∏–∫–ª–æ–≤ | ‚ùå | ‚úÖ |
| –ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ | ‚ùå | ‚úÖ |
| –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ | ‚ùå | ‚úÖ |

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:

1. **–£–±—Ä–∞–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤** - —Ç–µ–ø–µ—Ä—å 1 –∫–ª–∏–∫ = 1 –ø–æ–ø—ã—Ç–∫–∞
2. **–ó–∞—â–∏—Ç–∞ –æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ü–∏–∫–ª–æ–≤** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Å–ø–∞–º–∞
3. **–ë–æ–ª–µ–µ –º—è–≥–∫–∏–π rate limiting** - –º–µ–Ω—å—à–µ —à–∞–Ω—Å–æ–≤ —Å–ª—É—á–∞–π–Ω–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Å–µ–±—è
4. **–õ—É—á—à–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** - –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏ —Å–±—Ä–æ—Å–∏—Ç—å –±–∞–Ω—ã
5. **–£–º–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏** - –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

### –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏—Ç—É–∞—Ü–∏—é: `npm run debug:rate-limit show`
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É: `npm run debug:rate-limit stats`
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–±—Ä–æ—Å—å—Ç–µ: `npm run debug:rate-limit reset-all`

### –ü—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏:
- –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å 5 –ø–æ–ø—ã—Ç–æ–∫ –≤–º–µ—Å—Ç–æ 3
- –ë–∞–Ω –¥–ª–∏—Ç—Å—è 2 —á–∞—Å–∞ –≤–º–µ—Å—Ç–æ 24
- –ï—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–±—Ä–æ—Å–∏—Ç—å –±–∞–Ω—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
2. **IP –∞–¥—Ä–µ—Å–∞**: –ü–æ–º–Ω–∏—Ç–µ, —á—Ç–æ GitHub Pages –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–µ IP
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ debug —Å–∫—Ä–∏–ø—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
4. **–°–±—Ä–æ—Å**: –í —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `reset-all`

–≠—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É –ª–æ–∂–Ω—ã—Ö –±–∞–Ω–æ–≤! üéâ 